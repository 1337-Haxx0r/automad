/*!
 *	                  ....
 *	                .:   '':.
 *	                ::::     ':..
 *	                ::.         ''..
 *	     .:'.. ..':.:::'    . :.   '':.
 *	    :.   ''     ''     '. ::::.. ..:
 *	    ::::.        ..':.. .''':::::  .
 *	    :::::::..    '..::::  :. ::::  :
 *	    ::'':::::::.    ':::.'':.::::  :
 *	    :..   ''::::::....':     ''::  :
 *	    :::::.    ':::::   :     .. '' .
 *	 .''::::::::... ':::.''   ..''  :.''''.
 *	 :..:::'':::::  :::::...:''        :..:
 *	 ::::::. '::::  ::::::::  ..::        .
 *	 ::::::::.::::  ::::::::  :'':.::   .''
 *	 ::: '::::::::.' '':::::  :.' '':  :
 *	 :::   :::::::::..' ::::  ::...'   .
 *	 :::  .::::::::::   ::::  ::::  .:'
 *	  '::'  '':::::::   ::::  : ::  :
 *	            '::::   ::::  :''  .:
 *	             ::::   ::::    ..''
 *	             :::: ..:::: .:''
 *	               ''''  '''''
 *	
 *
 *	AUTOMAD CMS
 *
 *	Copyright (c) 2014 by Marc Anton Dahmen
 *	http://marcdahmen.de
 *
 *	Licensed under the MIT license.
 * 
 *	Based on Bootstrap v3.1.1 (http://getbootstrap.com)
 */




/* Variables */

@width-nav:		320px;
@width-subnav:		240px;
@width-content:		720px;

@min-width-nav:		280px;
@min-width-subnav:	200px;
@min-width-content:	512px;

@padding-content:	30px;
@padding-y-group-item:  24px;
@padding-pill:		14px;
@padding-x-pill-pages:	10px;
@padding-y-pill-pages:	7px;
@padding-modal-item:	24px;

@margin-x-pill:		18px;

@color-primary:		#00D0BB;
@color-default:		#585858;
@color-success:		@color-primary;
@color-warning:		#FF6B6B;
@color-danger:		@color-warning;
@color-muted:		#C2C2C2;
@color-active:		@color-primary;

@bg-color-default:	#F8F8F8;
@bg-color-form:		#FFFFFF;
@bg-color-alert:	#ECECEC;

@border-color-default:	#D2D2D2;
@border-color-form:	lighten(@color-default, 40%);
@border-color-item:	fade(@border-color-default, 70%);




/* Mixins */

.border-radius(@radius) {
  -webkit-border-radius: @radius;
     -moz-border-radius: @radius;
          border-radius: @radius;
}

.box-shadow(@param) {
  -webkit-box-shadow+: @param;
     -moz-box-shadow+: @param;
          box-shadow+: @param;
}

.button(@text; @bg; @border) {
	
	color: @text;
	border-color: @border;
	background-color: @bg;
	
	&:active,
	&.active,
	&:hover,
	&:focus {
		color: @text;
		border-color: darken(@border, 3%);
		background-color: darken(@bg, 3%);
	}
	
	&.disabled,
	&[disabled],
	&.disabled:active,
	&[disabled]:active,
	&.disabled:hover,
	&[disabled]:hover,
	&.disabled:focus,
	&[disabled]:focus {
		opacity: 1;
		color: #FFFFFF;
		border-color: @color-muted;
		background-color: @color-muted;
	}
	
}

.alert-box(@color) {
	
	color: @color;
	background-color: @bg-color-alert;
	border: none;
	border-left-style: solid;
	border-left-color: @color;
	border-left-width: 2px;
	.border-radius(0);
	font-style: italic;
	
	& .close {
		color: @color;
		opacity: 0.5;
	}
	
}

.font-face(@family; @file; @weight; @style) {
	font-family: '@{family}';
	src: url('../fonts/@{file}.woff') format('woff'), url('../fonts/@{file}.ttf') format('truetype');
	font-weight: @weight;
	font-style: @style;
}




/* Body & Wrapper */

html,
body,
.wrapper {
	height: 100%;
	min-height: 100%;
	color: @color-default;
	background-color: @bg-color-default;
}

body {
	padding: 85px 0 30px 0;
	min-width: 1280px;
}

.wrapper {
	display: table;
	width: 100%;
}

a {
	
	color: @color-default;
	
	&:hover,
	&:focus {
		color: @color-active;
		text-decoration: none;
	}
	
	&,
	&:focus,
	&:active {
		outline: none !important;
	}

}

a,
button,
label {
	-webkit-transition: color 0.3s, border-color 0.3s, background-color 0.3s;
	   -moz-transition: color 0.3s, border-color 0.3s, background-color 0.3s;
	     -o-transition: color 0.3s, border-color 0.3s, background-color 0.3s;
	        transition: color 0.3s, border-color 0.3s, background-color 0.3s;
}

ol {
	
	margin: 0;
	padding: 20px;	
	
	& li + li {
		margin-top: 8px;
	}
	
}




/* Navbar */

@font-face {
	/* Can not use ".font-face" mixin here, because of older browsers (eot/svg) */
	font-family: 'automad-logo';
	src:	url('../fonts/automad-logo.eot?oyzf45');
	src:	url('../fonts/automad-logo.eot?#iefixoyzf45') format('embedded-opentype'),
		url('../fonts/automad-logo.woff?oyzf45') format('woff'),
		url('../fonts/automad-logo.ttf?oyzf45') format('truetype'),
		url('../fonts/automad-logo.svg?oyzf45#automad-logo') format('svg');
	font-weight: normal;
	font-style: normal;
}

.navbar {
	
	min-width: 1280px;
	height: 58px;
	border-color: @border-color-default;
	
	& .container-fluid {
		/* Align with column pills */
		padding: 0 (@padding-pill + @margin-x-pill);
	}
	
	&-right {
		padding: 4px 0;
	}
	
	& .nav li a {
		
		color: @color-default;
		
		&:hover {
			color: @color-active;
		}
		
	}
	
}

#automad-logo {

	padding: 20px 0;

	& a {
	
		color: @color-primary;
	
		&:hover {
			color: @color-default;
		}
	
		&:before {
			content: 'A';
			font-family: 'automad-logo';
			position: relative;
			top: -8px;
			line-height: 1;
			font-size: 34px;
			margin-left: -2px;
			-webkit-font-smoothing: antialiased;
			-moz-osx-font-smoothing: grayscale;
		}
	
	}
		
}




/* Columns */

.column {
	
	display: table-cell;
	vertical-align: top;
	position: relative;
	
	&.nav,
	&.subnav {
		border-right-width: 1px;
		border-right-style: solid;
		border-color: @border-color-default;
	}
	
	&.nav {
		z-index: 2;
		width: @width-nav;
		max-width: @width-nav;
		min-width: @min-width-nav;
	}
	
	&.subnav {
		z-index: 1;
		width: @width-subnav;
		min-width: @min-width-subnav;
	}
	
	&.content {
	
		width: auto;
		
		& .inner {
			max-width: @width-content;
			min-width: @min-width-content;
			padding: @padding-pill @padding-content;
			margin: auto;	
		}

		.nav + & .inner {
			
			@media (min-width: ((2 * @width-nav) + @width-content)) {		
				position: relative;
				left: (0 - (@width-nav / 2));
			}
			
		}
		
		.subnav + & .inner {
			
			@media (min-width: ((2 * (@width-nav + @width-subnav)) + @width-content)) {		
				position: relative;
				left: (0 - ((@width-nav + @width-subnav) / 2));
			}
			
		}
		
		& .url {
			padding-bottom: @padding-y-group-item;
			margin-bottom: @padding-y-group-item;
			border-bottom-width: 1px;
			border-bottom-style: solid;
			border-color: @border-color-item;
		}
		
	}
		
}




/* Pills */

.nav.nav-pills {

	& a {
	
		padding: @padding-pill;
		margin: 0 @margin-x-pill;
		border-style: solid;
		border-width: 1px;
		border-color: transparent;
		.border-radius(0);
		
		&,
		&:hover,
		&:focus {
			background-color: transparent;
		}
		
	}
	
	& .active > a {
		
		margin-right: -1px;
		border-right: none;
		border-color: @border-color-default;
		
		&,
		&:hover,
		&:focus {
			color: @color-active;
			background-color: @bg-color-default;
		}
		
	}
		
}




/* Site Tree */

.pages {
	
	& .nav-pills {
	
		& ul {
		
			padding: 0 0 0 28px;
					
			/* Tree Lines */
			
			& li {
				
				&:before,
				&:after {
					
					content: '';
					display: block;
					position: absolute;
					left: 8px;
					border-left-width: 2px;
					border-left-style: solid;
					border-bottom-width: 2px;
					border-bottom-style: solid;
	
					.column.nav & {
						border-color: fade(@border-color-default, 50%);
					}
					
					.modal & {
						border-color: fade(@border-color-default, 50%);
					}
					
				}
			
				&:before {
					top: -1px;
					width: 10px;
					height: 21px;
				}
			
				&:after {
					top: 20px;
					bottom: -1px;
				}
				
				&:last-child:after {
					border-width: 0px;
				}
				
			}
				
		}
	
		& a {
		
			padding: @padding-y-pill-pages @padding-x-pill-pages;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
			
			&.expand {
			
				font-size: 12px;
				position: absolute;
				z-index: 2;
				top: 3px;
				left: -7px;
				border: none;
				margin: 0;
				
				&,
				&:hover,
				&:focus {
					.box-shadow(none);
					background-color: transparent;
					outline: none;
					color: @color-default;
				}
				
				& span {
					background-color: @bg-color-default;
					padding: 0;
				}
							
			}
			
		}
	
	}
	
	/* Align Pages with other items in the nav-column */
	.column.nav & > .nav-pills {
		
		padding: (@padding-pill - @padding-y-pill-pages) 0 (@padding-pill - @padding-y-pill-pages) (@padding-pill - @padding-x-pill-pages);
		
		& > li > a {
			padding-left: @padding-pill;
			margin-left: (@padding-x-pill-pages - @padding-pill + @margin-x-pill);
		}
		
	}
	
	/* Align Pages with other items in modal windows */
	.modal & > .nav-pills {
		margin: 0 0 0 -(@padding-x-pill-pages + @margin-x-pill);
	}
	
}




/* List Groups */

.list-group {
	
	&-item {
		
		background-color: transparent;
		border-width: 0;
		padding: @padding-y-group-item 0;
		
		&:first-child {
			padding-top: 0;
		}
		
	}
	
	&-item + &-item {
		
		border-top-width: 1px;
		border-color: @border-color-item;
		
	}
	
}




/* Buttons */

.btn-group {
	
	&-justified .btn {
		
		border-left-width: 0;
		
		&:first-child {
			border-left-width: 1px;
		}
		
	}
	
	& > .btn:hover {
		z-index: 0;
	}
	
}

.btn {
	
	font-style: normal;
	outline: none !important;
	.border-radius(0.55em);
	
	&:active,
	&.active {
		.box-shadow(0 3px 5px 0 rgba(0,0,0,0.25) inset);
	}
	
	&-default {
		.button(@color-default, @bg-color-default, @border-color-default);
	}
	
	&-primary {
		.button(#ffffff, @color-primary, @color-primary);
	}
	
	&-success {
		.button(#ffffff, @color-success, @color-success);
	}
	
	&-danger {
		.button(#ffffff, @color-danger, @color-danger);
	}
	
	// Checkboxes
	label&.btn-xs {
		
		padding: 2px 5px;
		
		&.active {
			.button(#ffffff, @color-danger, @color-danger);
		}
		
	}
		
}




/* Forms */

label {
	font-weight: normal;
	font-size: 12px;
	font-style: italic;
}

.form-group:last-child {
	margin: 0;
}

.form-control {
	
	color: @color-default;
	background-color: @bg-color-form;	
	border: none;
	border-left-style: solid;
	border-left-width: 2px;
	border-color: @border-color-form;
	.box-shadow(none);
	.border-radius(0);
	
	&:hover,
	&:focus {
		border-color: @color-primary;
	}
	
	&:focus {
		.box-shadow(0 0 0 6px fade(@color-primary, 20%));
	}
	
	select& {
		border-width: 1px;
		border-style: solid;
		border-color: @color-muted;
		.border-radius(0.55em);
	}
	
}

textarea {
	overflow: hidden;
	resize: none;
}




/* Modals */

.modal {
	
	overflow: auto;
		
	&-header,
	&-body,
	&-footer {
		padding: @padding-modal-item;
		padding-bottom: 0;
		border-width: 0;
	}
	
	&-content {
		
		background-color: @bg-color-default;
		
		border: none;
		
		.border-radius(10px);
		
		.box-shadow(0 3px 8px 0 rgba(0,0,0,0.22));
		
		& > :last-child {
			padding-bottom: @padding-modal-item;
		}
		
	} 
	
}




/* File Upload */

.dropzone {

	border-style: dashed;
	border-color: @color-primary;
	border-width: 4px;
	.box-shadow(none);
	.border-radius(15px);
	padding: 50px 0;
	margin-bottom: 25px;
	
	& .text-muted {
		font-size: 28px;
		padding: 0 0 25px 0;
		text-align: center;
	}

}




/* Text */

@font-face {
	.font-face('OpenSans'; 'OpenSans-Regular-webfont'; normal; normal);
}

@font-face {
	.font-face('OpenSans'; 'OpenSans-Italic-webfont'; normal; italic);
}

@font-face {
	.font-face('OpenSans'; 'OpenSans-Bold-webfont'; bold; normal);
}

@font-face {
	.font-face('OpenSans'; 'OpenSans-BoldItalic-webfont'; bold; italic);
}

body {
	font-family: 'OpenSans', 'Helvetica Neue', Helvetica, Arial, sans-serif;
	font-weight: normal;
	font-style: normal;
	font-size: 14px;
	line-height: 1.5;
}

h1, 
h2, 
h3, 
h4, 
h5,
h6 {
	
	font-weight: normal;
	
	&:first-child {
		margin-top: 0;
	}
	
}

h4,
h6 {
	font-style: italic;
}




/* Icons / Alerts / Badges / Progress Bars / Wells / FileTypes */

.glyphicon {
	
	padding-right: 4px;
	
	.btn-xs & {
		padding-right: 0px;
	}
	
}

.text {

	&-muted {
		color: @color-muted;
	}
	
	&-success {
		color: @color-success;
	}
	
}

.badge {
	
	font-weight: normal;
	padding: 3px 7px;
	margin: 0 1px;
	.border-radius(20px);
	
	&,
	.btn-default & {
		font-size: 80%;
		background-color: lighten(@color-default, 14%);
	}
	
	&.on {
		background-color: @color-success;
	}
	
	&.off {
		background-color: @color-muted;
	}

}

.alert {
	
	&.alert-info {
		.alert-box(@color-default);
	}
	
	&.alert-success {
		.alert-box(@color-success);
	}
	
	&.alert-danger {
		.alert-box(@color-danger);
	}
	
	&.alert-warning {
		.alert-box(@color-warning);
	}
	
}

.progress {

	background-color: @bg-color-form;
	
	&-bar {
	
		background-color: @color-default;
		.box-shadow(none);
		.border-radius(4px);
	
		&&-success {
			background-color: @color-success;
		}
	
		&&-danger {
			background-color: @color-danger;
		}
	
		&&-warning {
			background-color: @color-warning;
		}
	
	}

}

#files {
	
	& h6 {
		color: @color-muted;
	}
	
	& .filetype {
		width: 125px;
		height: 125px;
		display: inline-block;
		padding: 7px;
		background-color: @bg-color-default;
		font-style: italic;
		font-size: 16px;
		color: @color-muted;
	}
	
	& .filetype,
	& .img-responsive {
		.border-radius(12px);
		border-width: 1px;
		border-style: solid;
		border-color: @border-color-default;
	}
	
}


/*
 *	                  ....
 *	                .:   '':.
 *	                ::::     ':..
 *	                ::.         ''..
 *	     .:'.. ..':.:::'    . :.   '':.
 *	    :.   ''     ''     '. ::::.. ..:
 *	    ::::.        ..':.. .''':::::  .
 *	    :::::::..    '..::::  :. ::::  :
 *	    ::'':::::::.    ':::.'':.::::  :
 *	    :..   ''::::::....':     ''::  :
 *	    :::::.    ':::::   :     .. '' .
 *	 .''::::::::... ':::.''   ..''  :.''''.
 *	 :..:::'':::::  :::::...:''        :..:
 *	 ::::::. '::::  ::::::::  ..::        .
 *	 ::::::::.::::  ::::::::  :'':.::   .''
 *	 ::: '::::::::.' '':::::  :.' '':  :
 *	 :::   :::::::::..' ::::  ::...'   .
 *	 :::  .::::::::::   ::::  ::::  .:'
 *	  '::'  '':::::::   ::::  : ::  :
 *	            '::::   ::::  :''  .:
 *	             ::::   ::::    ..''
 *	             :::: ..:::: .:''
 *	               ''''  '''''
 *	
 *
 *	AUTOMAD CMS
 *
 *	Copyright (c) 2014 by Marc Anton Dahmen
 *	http://marcdahmen.de
 *
 *	Licensed under the MIT license.
 * 
 *	Based on Bootstrap v3.1.1 (http://getbootstrap.com)
 */




// =============================
// Variables 
// =============================

@width-nav:		320px;
@width-subnav:		240px;
@width-content:		640px;
@width-single:		360px;

@min-width-nav:		280px;
@min-width-subnav:	200px;
@min-width-content:	512px;

@height-header:		100px;

@padding-content:	16px;
@padding-y-group-item:  16px;
@padding-pill:		16px;
@padding-y-pill-pages:	12px;

@margin-x-pill:		12px;
@margin-y-pill:		2px;

@color-nav:		#aaa;
@color-subnav:		#aaa;
@color-content:		#000;

@bg-color-nav:		#222;
@bg-color-nav-hover:	lighten(@bg-color-nav, 2%);
@bg-color-subnav:	#383838;
@bg-color-subnav-hover:	lighten(@bg-color-subnav, 4%);
@bg-color-content:	#fff;

@border-color-nav:	lighten(@bg-color-nav, 5%);
@border-color-subnav:	lighten(@bg-color-subnav, 5%);
@border-color-content:	darken(@bg-color-content, 15%);

@shadow-color-nav:	darken(@bg-color-nav, 5%);
@shadow-color-subnav:	darken(@bg-color-subnav, 60%);




// =============================
// Mixins
// =============================

.border-radius(@radius, @corner: -) {
  -webkit-border@{corner}radius: @radius;
     -moz-border@{corner}radius: @radius;
          border@{corner}radius: @radius;
}

.box-shadow(@x: 0; @y: 0; @blur: 0; @spread: 0; @color: #000) {
  -webkit-box-shadow: @arguments;
     -moz-box-shadow: @arguments;
          box-shadow: @arguments;
}

.box-shadow-inset(@x: 0; @y: 0; @blur: 0; @spread: 0; @color: #000) {
  -webkit-box-shadow: inset @arguments;
     -moz-box-shadow: inset @arguments;
          box-shadow: inset @arguments;
}




// =============================
// Columns
// =============================

html,
body,
.wrapper {
	height: 100%;
	min-height: 100%;
}

.wrapper {
	display: table;
	width: 100%;
	color: @color-content;
	background-color: @bg-color-content;
	
	& .list-group-item {
		border-color: @border-color-content;
	}
	
}

.column {
	
	display: table-cell;
	vertical-align: top;
	overflow: hidden;
	
	&.nav {
		
		width: @width-nav;
		min-width: @min-width-nav;
		.box-shadow-inset(-11px; 1px; 5px; -10px; @shadow-color-nav);
		
		&,
		& a {
			color: @color-nav;
			background-color: @bg-color-nav;
		}
		
		& .list-group-item {
			border-color: @border-color-nav;
		}
		
		& .nav-pills a:hover {
			background-color: @bg-color-nav-hover;
		}
		
		& .active > a {
			
			&, 
			&:hover,
			&:focus {
				color: @color-subnav;
				background-color: @bg-color-subnav;
				.box-shadow(1px; 1px; 5px; 0; @shadow-color-nav);
			}
			
		}
		
	}
	
	&.subnav {
		
		width: @width-subnav;
		min-width: @min-width-subnav;
		padding-top: @height-header;
		.box-shadow-inset(-11px; 1px; 5px; -10px; @shadow-color-subnav);
		
		&,
		& a {
			color: @color-subnav;
			background-color: @bg-color-subnav;
		}
		
		& .list-group-item {
			border-color: @border-color-subnav;	
		}
		
		& .nav-pills a:hover {
			background-color: @bg-color-subnav-hover;
		}
		
		& .active > a {
			
			&,
			&:hover,
			&:focus {
				color: @color-content;
				background-color: @bg-color-content;
				.box-shadow(1px; 1px; 5px; 0; @shadow-color-subnav);
			}
			
		}
		
	}
	
	&.content {
		
		width: auto;
		
		& .inner {
			max-width: @width-content;
			min-width: @min-width-content;
			padding: @padding-content;	
		}

		.nav + & .inner {
			@media all and (min-width: ((2 * @width-nav) + @width-content)) {		
				position: relative;
				left: (0 - (@width-nav / 2));
				margin: auto;
			}
		}
		
		.subnav + & .inner {
			@media all and (min-width: ((2 * (@width-nav + @width-subnav)) + @width-content)) {		
				position: relative;
				left: (0 - ((@width-nav + @width-subnav) / 2));
				margin: auto;
			}
		}
		
	}
	
	&.single {
		
		width: 100%;
		
		& .inner {
			width: @width-single;
			padding: (@padding-pill + @margin-y-pill) @padding-content;
			margin: auto;
		}
		
	}
		
}




// =============================
// Header
// =============================

#header {

	height: @height-header;

	.nav & {
		padding: (@padding-pill + @margin-y-pill) (@padding-pill + @margin-x-pill);
	}

}

@font-face {
	font-family: 'automad-logo';
	src:	url('../fonts/automad-logo.eot?oyzf45');
	src:	url('../fonts/automad-logo.eot?#iefixoyzf45') format('embedded-opentype'),
		url('../fonts/automad-logo.woff?oyzf45') format('woff'),
		url('../fonts/automad-logo.ttf?oyzf45') format('truetype'),
		url('../fonts/automad-logo.svg?oyzf45#automad-logo') format('svg');
	font-weight: normal;
	font-style: normal;
}

.automad-logo {
	
	&:before {
		content: 'a';
		font-family: 'automad-logo';
		font-size: 28px;
		margin-left: -2px;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
	}
	
	&:hover {
		text-decoration: none;
	}
	
}

.site-name {
	margin: 0;
	display: inline-block;
}




// =============================
// List Groups
// =============================

.list-group {
	
	&-item {
		background-color: transparent;
		border-width: 0;
		padding: @padding-y-group-item 0;
	}
	
	&-item + &-item {
		border-top-width: 1px;
	}
	
}




// =============================
// Navigation
// =============================

.nav.nav-pills {
	
	& li {
		// Margins will collapse!
		margin: @margin-y-pill 0;		
	}
	
	& a {
		padding: @padding-pill;
		margin: 0 @margin-x-pill;
	}
	
	& .active > a {
		margin-right: 0;
		.border-radius(0, -top-right-);
		.border-radius(0, -bottom-right-);
	}
	
}

.pages {
	
	& > ul {
		padding: (@padding-pill - @padding-y-pill-pages) 0;
	}
	
	& .nav-pills a {
		padding: @padding-y-pill-pages @padding-pill;
	}
	
	& ul ul.nav-pills {
		margin: 0 0 0 20px;
		padding: 0;
	}
	
}




// =============================
// Headline
// =============================

h1, 
h2, 
h3, 
h4, 
h5 {
	&:first-child {
		margin-top: 0;
	}
}




// =============================
// Forms
// =============================

.form-group:last-child {
	margin: 0;
}




// =============================
// Modals
// =============================

.modal {
	overflow: auto;
}





